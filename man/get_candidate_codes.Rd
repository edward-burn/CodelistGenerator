% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_candidate_codes.R
\name{get_candidate_codes}
\alias{get_candidate_codes}
\title{Generate candidate codelist for the OMOP CDM}
\usage{
get_candidate_codes(
  keywords,
  domains = c("Condition", "Drug", "Device", "Observation", "Procedure"),
  search.synonyms = FALSE,
  fuzzy.match = FALSE,
  fuzzy.match.max.distance = 0.1,
  exclude = NULL,
  include.descendants = TRUE,
  include.ancestor = FALSE,
  concept,
  concept_synonym,
  concept_ancestor
)
}
\arguments{
\item{keywords}{Character vector of words to search for. Where more than one word is given (e.g. "knee osteoarthritis"), all words will be identified but can be in different positions (e.g. "osteoarthritis of knee") should be identified.}

\item{domains}{Character vector with one or more of the OMOP CDM domain (e.g. "Condition").}

\item{search.synonyms}{Either TRUE or FALSE. If TRUE the code will also search via the concept synonym table.}

\item{fuzzy.match}{Either TRUE or FALSE. If TRUE the fuzzy matches will be used, with approximate matches identified.}

\item{fuzzy.match.max.distance}{The max.distance parmeter for fuzzy matching (see ??base::agrep for further details).}

\item{exclude}{Character vector of words to search for to identify concepts to exclude.}

\item{include.descendants}{Either TRUE or FALSE. If TRUE descendant concepts of identified concepts will be included in the candidate codelist.}

\item{include.ancestor}{Either TRUE or FALSE. If TRUE the direct ancestor concepts of identified concepts will be included in the candidate codelist.}

\item{concept}{Dataframe with the OMOP CDM vocabulary concept table,}

\item{concept_synonym}{Dataframe with the OMOP CDM vocabulary concept_synonym table.}

\item{concept_ancestor}{Dataframe with the OMOP CDM vocabulary concept_ancestor table.}
}
\value{
Dataframe
}
\description{
This function generates a set of codes that can be concidered for creating a phenotype
using the OMOP CDM.
}
\examples{
# note, Eunomia, used in the example below, does not include a full set of vocabularies. The full set can be downloaded from https://athena.ohdsi.org
library(dplyr)
library(Eunomia)
library(stringr)
library(readr)
connection <- connect(getEunomiaConnectionDetails())
concepts<-querySql(connection, "SELECT * FROM concept;")
concept_ancestors<-querySql(connection, "SELECT * FROM concept_ancestor;")
concept_synonyms<-querySql(connection, "SELECT * FROM concept_synonym;")
disconnect(connection)
names(concepts)<-str_to_lower(names(concepts))
names(concept_ancestors)<-str_to_lower(names(concept_ancestors))
names(concept_synonyms)<-str_to_lower(names(concept_synonyms))
get_candidate_codes(keywords="asthma",
                 concept=concepts,
                    concept_ancestor = concept_ancestors,
                    concept_synonym = concept_synonyms)

}
